<div class="flex flex-col h-full">
  <div class="flex items-center justify-between px-6 pb-6 bg-white dark:bg-[#1C2736] border-b border-b-[#F2F4F7] dark:border-b-[#36455899]">
    <div class="relative w-2/5 shrink-0">
      <input
        class="w-full h-12 pl-[65px] pr-[26px] rounded-[10px] bg-[#F8F8F8] dark:bg-[#4D5669] border-0 focus:outline-0 placeholder:text-[#667085] dark:placeholder:text-[#D0D5DD] text-[#101828] dark:text-[#D0D5DD]"
        type="search"
        [placeholder]="'search'| translate"
      >

      <mat-icon class="absolute left-[26px] top-[11px] dark:text-[#D0D5DD]" [svgIcon]="'icon:search'"/>
    </div>

    <div class="flex items-center gap-6">
      <div
        class="flex items-center justify-center h-12 px-6 gap-3 border border-[#F2F4F7] dark:border-[#4D5669] rounded-[10px] cursor-pointer"
        mat-ripple>
        <mat-icon class="text-[#667085] dark:text-[#667085]" [svgIcon]="'icon:filter'"/>
        <span class="font-semibold text-[#101828] dark:text-[#F2F4F7]">{{ 'filter'| translate }}</span>
      </div>
    </div>
  </div>

  <div class="flex flex-col gap-5 grow p-6 dark:bg-[#101828]">
    <div class="relative grow">
      <div class="absolute inset-0 overflow-auto">
        <table class="w-full border-collapse border-spacing-0">
          <thead class="sticky top-0 z-10 border-b-[16px] border-b-[#F8F8F8] dark:border-b-[#101828]">
          <tr>
            <th class="p-0">
              <div class="flex items-center gap-[9px] font-medium h-14 px-4 bg-white dark:bg-[#1C2736] rounded-l-[12px] dark:shadow">
                <span class="text-[#141522] dark:text-white">{{ 'notification.type'| translate }}</span>
              </div>
            </th>
            <th class="p-0">
              <div class="flex items-center gap-[9px] font-medium h-14 px-4 bg-white dark:bg-[#1C2736] dark:shadow">
                <span class="text-[#141522] dark:text-white">{{ 'notification.text'| translate }}</span>
              </div>
            </th>
            <th class="p-0">
              <div class="flex items-center gap-[9px] font-medium h-14 px-4 bg-white dark:bg-[#1C2736] dark:shadow">
                <span class="text-[#141522] dark:text-white">{{ 'arrival.time'| translate }}</span>
              </div>
            </th>
            <th class="p-0">
              <div class="flex items-center gap-[9px] font-medium h-14 px-4 bg-white dark:bg-[#1C2736] rounded-r-[12px] dark:shadow">

              </div>
            </th>
          </tr>
          </thead>

          <tbody>
            @for (not of notifications; track not) {
              <tr
                class="border-b-[8px] border-b-transparent cursor-pointer"
                (click)="openNotification(not)"
              >
                <td class="p-0">
                  <div class="flex items-center gap-[12px] h-[72px] px-4 dark:bg-[#1C2736] text-[14px] rounded-l-[12px] dark:text-white">
                    {{ not.title }}
                  </div>
                </td>
                <td class="p-0">
                  <div class="flex items-center font-medium h-[72px] px-4 dark:bg-[#1C2736] text-[14px] dark:text-white">
                    {{ not.body }}
                  </div>
                </td>
                <td class="p-0">
                  <div class="flex items-center font-medium h-[72px] px-4 dark:bg-[#1C2736] text-[14px] dark:text-white">
                    {{ not?.created_at| date: 'dd.MM.YYYY HH:mm' }}
                  </div>
                </td>
                <td class="p-0">
                  <div class="flex items-center font-medium h-[72px] px-4 dark:bg-[#1C2736] text-[14px] dark:text-white rounded-r-[12px]">
                    @if (not.read) {
                      <span class="w-5 h-5 rounded-full bg-[#F2F4F7] dark:bg-[#4D5669] shrink-0"></span>
                    } @else {
                      <span class="w-5 h-5 rounded-full bg-[#9E77ED] shrink-0"></span>
                    }
                  </div>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>

    <div class="flex items-center justify-between h-16 px-4 bg-white dark:bg-[#1C2736] rounded-[12px]">
      <pagination
        [collectionSize]="params.total"
        [pageSize]="params.limit"
        (onPageChange)="changePage($event)"
      />

      <div class="flex items-center gap-3">
        <div class="text-[#101828] dark:text-white shrink-0">
          {{ (params.page - 1) * params.limit + 1 }} - {{ params.page * params.limit >= params.total ? params.total : params.page * params.limit }}/{{ params.total }}
        </div>

        <mat-select
          [(ngModel)]="params.limit"
          class="outlined-select"
          [hideSingleSelectionIndicator]="true"
          (selectionChange)="onLimitChange()"
        >
          <mat-option [value]="15">{{ 'show'| translate }} 15</mat-option>
          <mat-option [value]="20">{{ 'show'| translate }} 20</mat-option>
          <mat-option [value]="25">{{ 'show'| translate }} 25</mat-option>
        </mat-select>
      </div>
    </div>
  </div>
</div>

