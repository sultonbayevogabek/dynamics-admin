@if (rootObjectives?.length) {
  <div class="p-6 bg-white dark:bg-[#1C2736] rounded-[12px]">
    <div class="flex items-center justify-between pb-3">
      <div class="text-xl font-semibold dark:text-white">{{ 'update.data'| translate }}
        ({{ 'press.enter.to.save'| translate }})
      </div>

      <button
        class="w-10 h-10 grid place-items-center rounded-full hover:bg-[#F2F4F7] dark:hover:bg-[#4D5669] cursor-pointer text-[#667085]"
        mat-ripple
        mat-dialog-close
      >
        <mat-icon class="icon-size-14 dark:text-[#A2A8B2]" [svgIcon]="'icon:x'"/>
      </button>
    </div>
    <table class="w-full border-none dark:text-white">
      <thead>
      <tr class="border-b">
        <th class="w-1/6 p-5">{{ 'the.main.goal'| translate }}</th>

        @for (year of years; track year; let l = $last) {
          <th
            class="border-x p-5"
            [class.border-x]="!l"
          >{{ year }}
          </th>
        }
      </tr>
      </thead>

      <tbody>
      <ng-container *ngTemplateOutlet="tbody"/>
      </tbody>
    </table>
  </div>
}

<ng-template #tbody>
  @for (rootObj of rootObjectives; track rootObj) {
    <tr class="last:border-none border-b">
      <td class="font-semibold p-5">{{ rootObj?.title| translate }}</td>
      @for (year of rootObj?.years; track year; let l = $last) {
        <td
          [class.border-x]="!l"
        >
          <div class="p-3 grid grid-cols-2 gap-3">
            <label class="col-span-1">
                  <span
                    class="block text-[13px] text-[#98A2B3] dark:text-[#e4e7ec] font-medium mb-0.5">{{ 'fact'| translate }}</span>
              <input
                class="w-full h-10 px-3 bg-[#F2F4F7] dark:bg-[#4D5669] rounded-[8px] text-[#101828] dark:text-white text-[14px] font-medium cursor-pointer appearance-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"
                type="text"
                [mask]="'separator'"
                [thousandSeparator]="' '"
                [(ngModel)]="year.fact"
                (keydown.enter)="updateStatistics(year, rootObj.id)"
              >
            </label>
            <label class="col-span-1">
                  <span
                    class="block text-[13px] text-[#98A2B3] dark:text-[#e4e7ec] font-medium mb-0.5">{{ 'plan'| translate }}</span>
              <input
                class="w-full h-10 px-3 bg-[#F2F4F7] dark:bg-[#4D5669] rounded-[8px] text-[#101828] dark:text-white text-[14px] font-medium cursor-pointer appearance-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"
                type="text"
                [mask]="'separator'"
                [thousandSeparator]="' '"
                [(ngModel)]="year.plan"
                (keydown.enter)="updateStatistics(year, rootObj.id)"
              >
            </label>
          </div>
        </td>
      }
    </tr>
  }
</ng-template>

